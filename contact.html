<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Mobile Welding North Texas - gates, fences, equipment repair. Starting at $60/hr, same-day. Call Parker 940-733-3111">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contact – Zotz Welding LLC</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- ====  HEADER  ==== -->
  <header class="header">
    <div class="container head-flex">
      <h1 class="logo"><a href="index.html"><img src="logo.png" alt="Zotz Welding"></a></h1>
      <nav aria-label="Primary">
        <ul class="nav-list">
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="services.html">Services</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="gallery.html">Gallery</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container content">
    <h2>Call or text any time day or night.</h2>
    <p><strong>Parker Zotz</strong><br>
    Phone: <a href="tel:9407333111">940-733-3111</a><br>
    Email: <a href="mailto:zotzwelding@gmail.com">zotzwelding@gmail.com</a></p>

    <!--  both forms share dark background  -->
    <div class="contact-wrapper">
      <h3>Get In Touch</h3>
      <form action="https://formspree.io/f/xqezzlgn" method="POST" class="contact-form">
        <label><strong>Name </strong><input type="text" name="name" required></label>
        <label><strong>Email </strong><input type="email" name="email" required></label>
        <label><strong>Phone </strong><input type="tel" name="phone"></label>
        <label><strong>Message </strong><textarea name="message" rows="4" required></textarea></label>
        <button type="submit" class="btn">Send Message</button>
      </form>

      <section id="review-section" style="margin-top:3rem;">
        <h3>Leave a Review</h3>
        <form id="review-form" action="https://formspree.io/f/mqekvojq" method="POST">
          <label><strong>Name </strong><input type="text" name="name" required></label>
          <label><strong>Rating </strong>
            <select name="rating" required>
              <option value="5">5 ⭐</option>
              <option value="4">4 ⭐</option>
              <option value="3">3 ⭐</option>
              <option value="2">2 ⭐</option>
              <option value="1">1 ⭐</option>
            </select>
          </label>
          <br>
          <label><strong>Review </strong><textarea name="review" rows="4" ></textarea></label>
          <button type="submit" class="btn">Submit Review</button>
        </form>
        <div id="google-link" style="display:none;margin-top:1rem;">
          <p>Thanks! Click below to paste this review on Google:</p>
          <a id="g-link" class="btn" href="#" target="_blank" rel="noopener">Post on Google</a>
        </div>
      </section>

      <!--<section id="on-site-reviews" style="margin-top:3rem;">
        <h3>Customer Reviews</h3>
        <div id="review-list"></div>
      </section>-->
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; <span id="yr"></span> Zotz Welding LLC</p>
    </div>
  </footer>

  <!--  scripts AFTER footer  -->
  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();
  </script>

  <script>
    /* =====  INSTANT REVIEW + LOCAL STORAGE  ===== */
    const reviewForm   = document.getElementById('review-form');
    const reviewList   = document.getElementById('review-list');
    const googleLink   = document.getElementById('google-link');
    const gLinkAnchor  = document.getElementById('g-link');

    window.addEventListener('DOMContentLoaded', () => {
      const stored = JSON.parse(localStorage.getItem('zotzReviews') || '[]');
      stored.forEach(r => appendReview(r));
    });

    reviewForm.addEventListener('submit', e => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(reviewForm));
      appendReview(data);
      saveReview(data);
      createGoogleLink(data);
      reviewForm.reset();
      googleLink.style.display = 'block';
    });

    function appendReview({name, rating, review}) {
      const div = document.createElement('div');
      div.className = 'review-card';
      div.innerHTML = `<strong>${name}</strong> &nbsp; ${'⭐'.repeat(rating)}<br><p>${review}</p>`;
      reviewList.appendChild(div);
    }
    function saveReview(data) {
      const reviews = JSON.parse(localStorage.getItem('zotzReviews') || '[]');
      reviews.push(data);
      localStorage.setItem('zotzReviews', JSON.stringify(reviews));
    }
    function createGoogleLink({rating, review}) {
      const text = encodeURIComponent(`(${rating}/5) ${review}`);
      gLinkAnchor.href = `https://search.google.com/local/writereview?placeid=ChIJNeQLi9xAToYRSjK8n9zQJyQ&review=${text}`;
    }
  </script>
</body>
</html>